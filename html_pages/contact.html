<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>SEMANTICS-2023</title>

	<!-- Bootstrap core CSS -->
	<link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom styles for this template -->
	<link href="../css/scrolling-nav.css" rel="stylesheet">

	<link href="../css/style.css" rel="stylesheet">

	<!-- Mark down -->
	<script type="module" src="../vendor/zero-md-v2/zero-md.min.js"></script>

	<script src="../vendor/jquery/jquery.min.js"></script>

	<script src="../js/getconf.js"></script>
	<script src="../js/pcontent.js"></script>

</head>

<body id="page-top">

	<div id="nav-placeholder">

	</div>

	<script>
	$(function(){
		$("#nav-placeholder").load("nav.html", function functionName() {apply_conf_onfunc(update_nav, false);});
		//$("#sidecol").load("side.html");
		$("#page-footer").load("footer.html", function functionName() {apply_conf_onfunc(update_footer, false);});
	});
	</script>

	<section>
		<div class="container">
			<div class="row">
				<div class="col-lg-12 mx-auto">

					<div class="row">
						<div class="col-lg-12 mx-auto">
							<zero-md src="../content/contact.md">
								<template> <link href="../css/md-style.css" rel="stylesheet"/> </template>
							</zero-md>
						</div>
					</div>
					
					<div class="row">
						<div class="col-lg-12 mx-auto">
							<form id="my-form" action="https://formspree.io/f/xjvdvrdg" method="POST">
							  
								<div class="form-group">
								  <label for="f_name">Name</label>
								  <input type="name" name="name" class="form-control" id="f_name" placeholder="Enter your full name" required>
							  </div>
								
								<div class="form-group">
							    <label for="f_email">Email address</label>
							    <input type="email" name="email" class="form-control" id="f_email" placeholder="Enter email" required>
							  </div>
								
								<div class="form-group">
									<label for="f_msg">What are you interested in?</label>
									<select name="request" class="form-control form-control-lg" required>
									  <option>General</option>
										<option>Sponsoring</option>
										<option>Media Request</option>
										<option>Tickets</option>
									</select>
								</div>
								
								<div class="form-group">
							    <label for="f_msg">Message</label>
							    <textarea name="message" class="form-control" id="f_msg" rows="5" required></textarea>
							  </div>

								<button id="my-form-button" type="submit" class="btn btn-primary">Send your message</button>
								<p style="padding-top: 10px; min-height: 100px" id="my-form-status"></p>
								
							</form>
							
						</div>
					</div>

				</div>
				<!--<div class="col-lg-3 mx-auto"><div id="sidecol" /></div>-->

			</div>
		</div>
	</section>

	<!-- Footer -->
	<footer id="page-footer"></footer>

	<!-- Bootstrap core JavaScript -->

	<script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

	<!-- Plugin JavaScript -->
	<script src="../vendor/jquery-easing/jquery.easing.min.js"></script>

	<!-- Custom JavaScript for this theme -->
	<script src="../js/scrolling-nav.js"></script>
	
	
	<!-- Place this script at the end of the body tag -->
<script>
    var form = document.getElementById("my-form");
    
    async function handleSubmit(event) {
      event.preventDefault();
      var status = document.getElementById("my-form-status");
      var data = new FormData(event.target);
      fetch(event.target.action, {
        method: form.method,
        body: data,
        headers: {
            'Accept': 'application/json'
        }
      }).then(response => {
        if (response.ok) {
					status.style.color = "green";
          status.innerHTML = "Thank you for contacting us!";
          form.reset()
        } else {
					status.style.color = "red";
          response.json().then(data => {
            if (Object.hasOwn(data, 'errors')) {
              status.innerHTML = "Error: "+data["errors"].map(error => error["message"]).join(", ")
            } else {
              status.innerHTML = "Sorry, there was a problem submitting your form"
            }
          })
        }
      }).catch(error => {
				status.style.color = "red";
        status.innerHTML = "Sorry, there was a problem submitting your form!"
      });
    }
    form.addEventListener("submit", handleSubmit)
</script>

</body>

</html>
